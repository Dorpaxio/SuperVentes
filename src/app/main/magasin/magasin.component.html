<ng-container *ngIf="(produits$ | async) as produits else spinner">
  <div class="d-flex justify-content-between align-items-center">
    <h2>Produits ({{produits.length}})</h2>
    <nb-select [(ngModel)]="query.sort" (selectedChange)="updateProduits()" placeholder="Trier les rÃ©sultats">
      <nb-option *ngFor="let sort of sorting" [value]="sort.value">{{sort.display}}</nb-option>
    </nb-select>
  </div>
  <app-liste-produit [produits]="produits"></app-liste-produit>
</ng-container>

<ng-template #spinner>
  <div class="w-100 d-flex justify-content-center">
    <p class="spinner-border text-center"></p>
  </div>
</ng-template>
